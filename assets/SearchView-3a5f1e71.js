import{z as g,A as v,B as y,C as f,D as S,r as x,n as c,h as V,a as t,c as o,j as n,v as k,E as $,F as w,k as A,b as _,i as B,G as E,l as C,m as N}from"./index-42ca52f3.js";import{_ as U}from"./ContentItem-5828a470.js";const b=g("searching",{state:()=>({searchArray:null,search:"",adult:!1,total_results:0}),actions:{async getSearch(r=1){if(this.search!="")try{const e=await v({method:"GET",url:`${y}/search/multi?query=${this.search}&include_adult=${this.adult}&language=${f}&page=${r}`,headers:S});this.searchArray=e.data.results,this.total_results=e.data.total_results}catch(e){console.error("Error in Searching store",e)}else this.searchArray=null}}}),D={class:"search"},F={class:"container"},G=["placeholder"],T={class:"content__list"},j={key:0,class:"search__paginate"},q={__name:"Search",props:["placeholder"],setup(r){const e=b();let a=x(1);const i=c({get:()=>e.search,set:h=>{e.search=h,e.getSearch(a.value)}}),d=()=>{a.value+1,e.getSearch(a.value)},u=c(()=>e.searchArray),p=c(()=>e.total_results);return(h,l)=>{const m=V("vue-awesome-paginate");return t(),o("section",D,[n("div",F,[k(n("input",{type:"text",class:"search__input",placeholder:r.placeholder,"onUpdate:modelValue":l[0]||(l[0]=s=>i.value=s)},null,8,G),[[$,i.value]]),n("div",T,[(t(!0),o(w,null,A(u.value,s=>(t(),N(U,{key:s.id,content:s,type:s.media_type},null,8,["content","type"]))),128))]),u.value?(t(),o("div",j,[_(m,{"total-items":p.value,"items-per-page":20,"max-pages-shown":3,modelValue:B(a),"onUpdate:modelValue":l[1]||(l[1]=s=>E(a)?a.value=s:a=s),"on-click":d},null,8,["total-items","modelValue"])])):C("",!0)])])}}},z={class:"main"},P={__name:"SearchView",setup(r){return(e,a)=>(t(),o("main",z,[_(q,{placeholder:"Найти фильм, сериал..."})]))}};export{P as default};
//# sourceMappingURL=SearchView-3a5f1e71.js.map
