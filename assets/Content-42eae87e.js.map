{"version":3,"file":"Content-42eae87e.js","sources":["../../src/components/Content/Content.vue"],"sourcesContent":["<template>\r\n  <section class=\"content\" v-if=\"contentList.length > 0\">\r\n    <div class=\"container\">\r\n      <h2 class=\"content__title\">\r\n        {{ type == \"movie\" ? \"Все фильмы\" : \"Все сериалы\" }}\r\n      </h2>\r\n      <div class=\"content__list\">\r\n        <ContentItem\r\n          v-for=\"content in contentList\"\r\n          :key=\"content.id\"\r\n          :content=\"content\"\r\n          :type=\"type\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <Loader v-if=\"loading || contentList.length == 0\" />\r\n</template>\r\n\r\n<script setup>\r\nimport { usePopular } from \"@/stores/popular\";\r\nimport { ref, onMounted } from \"vue\";\r\nimport ContentItem from \"@/components/UI/ContentItem.vue\";\r\n\r\nconst props = defineProps([\"type\"]);\r\nconst popularStore = usePopular();\r\nlet page = ref(1);\r\nlet contentList = ref([]);\r\nlet loading = ref(false);\r\n\r\nconst getContent = async () => {\r\n  if (!loading.value) {\r\n    loading.value = true;\r\n    await popularStore.getPopular(props.type, page.value);\r\n    let state =\r\n      props.type == \"movie\"\r\n        ? popularStore.popularMovie\r\n        : popularStore.popularTv;\r\n    contentList.value.push(...state);\r\n    loading.value = false;\r\n    page.value++;\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  getContent();\r\n});\r\n</script>\r\n"],"names":["popularStore","usePopular","page","ref","contentList","loading","getContent","props","state","onMounted"],"mappings":"sUAyBMA,EAAeC,EAAU,EAC/B,IAAIC,EAAOC,EAAI,CAAC,EACZC,EAAcD,EAAI,CAAA,CAAE,EACpBE,EAAUF,EAAI,EAAK,EAEvB,MAAMG,EAAa,SAAY,CAC7B,GAAI,CAACD,EAAQ,MAAO,CAClBA,EAAQ,MAAQ,GAChB,MAAML,EAAa,WAAWO,EAAM,KAAML,EAAK,KAAK,EACpD,IAAIM,EACFD,EAAM,MAAQ,QACVP,EAAa,aACbA,EAAa,UACnBI,EAAY,MAAM,KAAK,GAAGI,CAAK,EAC/BH,EAAQ,MAAQ,GAChBH,EAAK,QAET,EAEA,OAAAO,EAAU,IAAM,CACdH,GACF,CAAC"}